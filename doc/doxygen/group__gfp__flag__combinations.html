<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.17"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>MentOS: Flag Combinations</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
            <tbody>
            <tr style="height: 56px;">
                <td id="projectalign" style="padding-left: 0.5em;">
                    <div id="projectname">MentOS
                        &#160;<span
                                id="projectnumber">0.3.0</span>
                    </div>
                    <div id="projectbrief">The Mentoring Operating System</div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <!-- end header part --><!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Flag Combinations<div class="ingroups"><a class="el" href="group__GFP.html">The Get Free Pages (GFP) flags</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Useful GFP flag combinations.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Flag Combinations:</div>
<div class="dyncontent">
<div class="center"><img src="group__gfp__flag__combinations.png" border="0" usemap="#group____gfp____flag____combinations" alt=""/></div>
<map name="group____gfp____flag____combinations" id="group____gfp____flag____combinations">
<area shape="rect" href="group__GFP.html" title="Sets of GFP defines." alt="" coords="5,5,152,45"/>
<area shape="rect" title="Useful GFP flag combinations." alt="" coords="200,13,344,38"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa9d5f32b75f79a459c1161e3519ed1e1"><td class="memItemLeft" align="right" valign="top"><a id="gaa9d5f32b75f79a459c1161e3519ed1e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gfp__flag__combinations.html#gaa9d5f32b75f79a459c1161e3519ed1e1">GFP_ATOMIC</a>&#160;&#160;&#160;(<a class="el" href="group__WatermarkModifiers.html#ga01e37e52e366faf6ce7067b231abf7ae">__GFP_HIGH</a> | <a class="el" href="group__WatermarkModifiers.html#ga8846fabc70d7ec4ab321a5c139f18d8e">__GFP_ATOMIC</a> | <a class="el" href="group__ReclaimModifiers.html#ga066bf14fa087b476910b05d7bcdb70ec">__GFP_KSWAPD_RECLAIM</a>)</td></tr>
<tr class="memdesc:gaa9d5f32b75f79a459c1161e3519ed1e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Users can not sleep and need the allocation to succeed. A lower watermark is applied to allow access to "atomic reserves". <br /></td></tr>
<tr class="separator:gaa9d5f32b75f79a459c1161e3519ed1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44b9e863fd60efc9018a5524b77532ee"><td class="memItemLeft" align="right" valign="top"><a id="ga44b9e863fd60efc9018a5524b77532ee"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gfp__flag__combinations.html#ga44b9e863fd60efc9018a5524b77532ee">GFP_KERNEL</a>&#160;&#160;&#160;(<a class="el" href="group__ReclaimModifiers.html#gaa314c864ecb41a84476ed07d6a35f8d9">__GFP_RECLAIM</a> | <a class="el" href="group__ReclaimModifiers.html#ga5684e34c96ff74038d8a26a02d822f43">__GFP_IO</a> | <a class="el" href="group__ReclaimModifiers.html#gacc4c173bc83c94ecbc3d825bc82bd3bf">__GFP_FS</a>)</td></tr>
<tr class="memdesc:ga44b9e863fd60efc9018a5524b77532ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">is typical for kernel-internal allocations. The caller requires ZONE_NORMAL or a lower zone for direct access but can direct reclaim. <br /></td></tr>
<tr class="separator:ga44b9e863fd60efc9018a5524b77532ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b9db7e5ec3af0323e63e27da7718aa6"><td class="memItemLeft" align="right" valign="top"><a id="ga0b9db7e5ec3af0323e63e27da7718aa6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gfp__flag__combinations.html#ga0b9db7e5ec3af0323e63e27da7718aa6">GFP_NOWAIT</a>&#160;&#160;&#160;(<a class="el" href="group__ReclaimModifiers.html#ga066bf14fa087b476910b05d7bcdb70ec">__GFP_KSWAPD_RECLAIM</a>)</td></tr>
<tr class="memdesc:ga0b9db7e5ec3af0323e63e27da7718aa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">is for kernel allocations that should not stall for direct reclaim, start physical IO or use any filesystem callback. <br /></td></tr>
<tr class="separator:ga0b9db7e5ec3af0323e63e27da7718aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa320dcfa48a0cc68b21e21970e1f64b0"><td class="memItemLeft" align="right" valign="top"><a id="gaa320dcfa48a0cc68b21e21970e1f64b0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gfp__flag__combinations.html#gaa320dcfa48a0cc68b21e21970e1f64b0">GFP_NOIO</a>&#160;&#160;&#160;(<a class="el" href="group__ReclaimModifiers.html#gaa314c864ecb41a84476ed07d6a35f8d9">__GFP_RECLAIM</a>)</td></tr>
<tr class="memdesc:gaa320dcfa48a0cc68b21e21970e1f64b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">will use direct reclaim to discard clean pages or slab pages that do not require the starting of any physical IO. Please try to avoid using this flag directly and instead use memalloc_noio_{save,restore} to mark the whole scope which cannot perform any IO with a short explanation why. All allocation requests will inherit GFP_NOIO implicitly. <br /></td></tr>
<tr class="separator:gaa320dcfa48a0cc68b21e21970e1f64b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71a41635e4d3e66467b10683668249d8"><td class="memItemLeft" align="right" valign="top"><a id="ga71a41635e4d3e66467b10683668249d8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gfp__flag__combinations.html#ga71a41635e4d3e66467b10683668249d8">GFP_NOFS</a>&#160;&#160;&#160;(<a class="el" href="group__ReclaimModifiers.html#gaa314c864ecb41a84476ed07d6a35f8d9">__GFP_RECLAIM</a> | <a class="el" href="group__ReclaimModifiers.html#ga5684e34c96ff74038d8a26a02d822f43">__GFP_IO</a>)</td></tr>
<tr class="memdesc:ga71a41635e4d3e66467b10683668249d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">will use direct reclaim but will not use any filesystem interfaces. Please try to avoid using this flag directly and instead use memalloc_nofs_{save,restore} to mark the whole scope which cannot/shouldn't recurse into the FS layer with a short explanation why. All allocation requests will inherit GFP_NOFS implicitly. <br /></td></tr>
<tr class="separator:ga71a41635e4d3e66467b10683668249d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d9a73993b4c57bf15ddd4af4a20d1ca"><td class="memItemLeft" align="right" valign="top"><a id="ga4d9a73993b4c57bf15ddd4af4a20d1ca"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gfp__flag__combinations.html#ga4d9a73993b4c57bf15ddd4af4a20d1ca">GFP_USER</a>&#160;&#160;&#160;(<a class="el" href="group__ReclaimModifiers.html#gaa314c864ecb41a84476ed07d6a35f8d9">__GFP_RECLAIM</a> | <a class="el" href="group__ReclaimModifiers.html#ga5684e34c96ff74038d8a26a02d822f43">__GFP_IO</a> | <a class="el" href="group__ReclaimModifiers.html#gacc4c173bc83c94ecbc3d825bc82bd3bf">__GFP_FS</a>)</td></tr>
<tr class="memdesc:ga4d9a73993b4c57bf15ddd4af4a20d1ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">is for userspace allocations that also need to be directly accessibly by the kernel or hardware. It is typically used by hardware for buffers that are mapped to userspace (e.g. graphics) that hardware still must DMA to. cpuset limits are enforced for these allocations. <br /></td></tr>
<tr class="separator:ga4d9a73993b4c57bf15ddd4af4a20d1ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab03c75c7039b9635c3b9afcceb8a4759"><td class="memItemLeft" align="right" valign="top"><a id="gab03c75c7039b9635c3b9afcceb8a4759"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gfp__flag__combinations.html#gab03c75c7039b9635c3b9afcceb8a4759">GFP_DMA</a>&#160;&#160;&#160;(<a class="el" href="group__zone__modifiers.html#ga172903b8afde6aca69a99bd68f40ebff">__GFP_DMA</a>)</td></tr>
<tr class="memdesc:gab03c75c7039b9635c3b9afcceb8a4759"><td class="mdescLeft">&#160;</td><td class="mdescRight">exists for historical reasons and should be avoided where possible. The flags indicates that the caller requires that the lowest zone be used (ZONE_DMA or 16M on x86-64). Ideally, this would be removed but it would require careful auditing as some users really require it and others use the flag to avoid lowmem reserves in ZONE_DMA and treat the lowest zone as a type of emergency reserve. <br /></td></tr>
<tr class="separator:gab03c75c7039b9635c3b9afcceb8a4759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac53057e1921a336f13b4be47c112b770"><td class="memItemLeft" align="right" valign="top"><a id="gac53057e1921a336f13b4be47c112b770"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gfp__flag__combinations.html#gac53057e1921a336f13b4be47c112b770">GFP_HIGHUSER</a>&#160;&#160;&#160;(<a class="el" href="group__gfp__flag__combinations.html#ga4d9a73993b4c57bf15ddd4af4a20d1ca">GFP_USER</a> | <a class="el" href="group__zone__modifiers.html#ga8db8093ad48172299ca0e0e3210f6ed3">__GFP_HIGHMEM</a>)</td></tr>
<tr class="memdesc:gac53057e1921a336f13b4be47c112b770"><td class="mdescLeft">&#160;</td><td class="mdescRight">is for userspace allocations that may be mapped to userspace, do not need to be directly accessible by the kernel but that cannot move once in use. An example may be a hardware allocation that maps data directly into userspace but has no addressing limitations. <br /></td></tr>
<tr class="separator:gac53057e1921a336f13b4be47c112b770"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Useful GFP flag combinations. </p>
<p>Useful GFP flag combinations that are commonly used. It is recommended that subsystems start with one of these combinations and then set/clear the flags as necessary. </p>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.16-->
<!-- start footer part -->
<div class="footer">
    <hr class="footer"/>
    <ul class="footer-info">
        <li class="footer-info-lastmode">
            This page was last modified on Mon Oct 11 2021 16:51:22.
        </li>
        <li class="footer-info-copyright">
            MentOs © 2014–2021 the MentOs team, and numerous contributors.<br>
            It is available for use and modification under the&#160;
            <a href="md_LICENSE.html">MIT License</a>.<br>
        </li>
    </ul>
    <hr class="footer"/>
    <address class="footer">
        Generated by&#160;
        <a href="http://www.doxygen.org/index.html">
            <img class="footer" src="doxygen.png" alt="doxygen"/>
        </a> 1.8.17
    </address>
</div>
</body>
</html>
